<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../../">
  <title data-ice="title">jbd_vis/client/components/views/jvms_view.jsx | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
</head>
<body class="layout-container">

<header>
  <a href="./">Home</a>
  <a href="identifiers.html">Identifier</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/beinan/jbd_vis.git" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div data-ice="classWrap">
  <h2>Class</h2>
  <ul>
    
  <li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/seq_diagram/actor.jsx~Actor.html">Actor</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/admin_action.js~AdminAction.html">AdminAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/admin/admin_components.jsx~AdminJobsBox.html">AdminJobsBox</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/admin/admin_monitor_view.jsx~AdminMonitorView.html">AdminMonitorView</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/admin/admin_question_view.jsx~AdminQuestionView.html">AdminQuestionView</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/app_action.js~AppAction.html">AppAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/assignment_view.jsx~AssignmentView.html">AssignmentView</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/assignments_action.js~AssignmentsAction.html">AssignmentsAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/common_store_action.js~CommonStoreAction.html">CommonStoreAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/common_components.jsx~ContentBox.html">ContentBox</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/common_components.jsx~ContentSection.html">ContentSection</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/content_wrapper.jsx~ContentWrapper.html">ContentWrapper</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/replay_controls/control_side_bar.jsx~ControlSideBar.html">ControlSideBar</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/frame.jsx~Frame.html">Frame</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/common_components.jsx~ImmutablePropComponent.html">ImmutablePropComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/jvm_action.js~JVMAction.html">JVMAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/stores/job_store.js~JobStore.html">JobStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/replay_controls/jvm_list_drowdown.jsx~JvmListDrowDown.html">JvmListDrowDown</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/stores/jvm_store.js~JvmStore.html">JvmStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/views/jvms_view.jsx~JvmsView.html">JvmsView</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/seq_diagram/lifeline.jsx~Lifeline.html">Lifeline</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/main_side_bar.jsx~MainSideBar.html">MainSideBar</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/common_components.jsx~PureRenderCommponent.html">PureRenderCommponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/replay_controls/replay_panel.jsx~ReplayPanel.html">ReplayPanel</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/stores/replay_store.js~ReplayStore.html">ReplayStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/stores/seq_diag_store.js~SeqDiagStore.html">SeqDiagStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/seq_diagram/seq_diagram.jsx~SeqDiagram.html">SeqDiagram</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/seq_diagram/signal.jsx~Signal.html">Signal</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/actions/simulation_action.js~SimulationAction.html">SimulationAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/views/simulation_view.jsx~SimulationView.html">SimulationView</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/stores/store_factory.js~StoreFactory.html">StoreFactory</a></span></li>
<li data-ice="classDoc"><span><a href="class/jbd_vis/client/components/common_components.jsx~UploadFileForm.html">UploadFileForm</a></span></li>
</ul>
</div>





<div data-ice="variableWrap">
  <h2><a href="variable/">Variable</a></h2>
  <ul>
    
  <li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-AdminJobsStore">AdminJobsStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-AppStore">AppStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-AssignmentsStore">AssignmentsStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-EventEmitter">EventEmitter</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-JvmListStore">JvmListStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-SessionStore">SessionStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-SimulationStore">SimulationStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-actor">actor</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-adminMonitorView">adminMonitorView</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-adminQuestionView">adminQuestionView</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-assignmentView">assignmentView</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-contentWrapper">contentWrapper</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-controlSideBar">controlSideBar</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-frame">frame</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-instance">instance</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-jobStore">jobStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-jvmListDrowDown">jvmListDrowDown</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-jvmStore">jvmStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-jvmsView">jvmsView</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-lifeline">lifeline</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-mainSideBar">mainSideBar</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-replayPanel">replayPanel</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-replayStore">replayStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-seqDiagStore">seqDiagStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-seqDiagram">seqDiagram</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-signal">signal</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-simulationView">simulationView</a></span></li>
</ul>
</div>




</nav>

<div class="content" data-ice="content"><h1 data-ice="title">jbd_vis/client/components/views/jvms_view.jsx</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import React from &apos;react&apos;

import JvmListStore from &apos;../../stores/jvm_list_store&apos;;
import JvmsAction from &apos;../../actions/jvm_action&apos;;
import AppAction from &apos;../../actions/app_action&apos;;
import SimulationAction from &apos;../../actions/simulation_action&apos;;

import ViewType from &apos;../../view_type&apos;;

import {ContentSection, ContentBox, UploadFileForm} from &apos;../common_components.jsx&apos;;

import {Button, Input, Label, Fade, Collapse,Badge, Grid, Row, Col, Well} from &apos;react-bootstrap&apos;;

class JvmMethodsFilterClassEntry extends React.Component{
  
  constructor(props){
    super(props);
    this.state = {};
    this._onChange = this._onChange.bind(this);
  }
  
  _onChange(){ 
    this.props.class_meta.checked = !this.state.checked;
    this.setState({checked: !this.state.checked});
  }
  render(){
    var class_meta = this.props.class_meta;
    //console.log(class_meta);
    var methods = [];
    for(var method_name in class_meta.value){
      //console.log(method_name);
    }
    
    return (
      &lt;Row&gt;
        &lt;Col xs={4} md={3}&gt;&lt;Button bsStyle=&quot;info&quot; active={this.state.checked} onClick={this._onChange}&gt;{class_meta._id.split(&quot;/&quot;).join(&quot;.&quot;)}&lt;/Button&gt;&lt;/Col&gt;  
        &lt;Col xs={2}&gt;&lt;input type=&apos;checkbox&apos; checked={this.state.checked} onChange={this._onChange} /&gt;&lt;/Col&gt;
      &lt;/Row&gt;
    )
  }
}


class JvmMethodsFilter extends React.Component{
  constructor(props){
    super(props);
    this.state = this.props.jvm_data.methods_meta_data;
    //this._onClickWatchFilterButton = this._onClickWatchFilterButton.bind(this);
    this._onChange = this._onChange.bind(this);
  }

  componentDidMount() {
    this.props.jvm_data.addUpdateEventListener(this._onChange);
  }

  componentWillUnmount() {
    this.props.jvm_data.removeUpdateEventListener(this._onChange);
  }
  
  _onChange(){
    //console.log(&quot;JvmMethodsFilter _onChange&quot;);
    this.setState(this.props.jvm_data.methods_meta_data);
  }

  render(){
    console.log(&quot;method filter is rendering&quot;,this.state);
    var filter;
    if(this.state.status !== &quot;ready&quot;){
      filter = &lt;p&gt;Loading&lt;/p&gt;;
    } else {         
      
      filter = (
        &lt;Grid&gt;
          {this.state.classes.map((meta)=&gt;&lt;JvmMethodsFilterClassEntry class_meta={meta}/&gt;)}
        &lt;/Grid&gt;
      );
      
      //console.log(&quot;item_list is rendering&quot;);
    }
    return filter;
  }
}

class JvmEntry extends React.Component{
  constructor(props){
    super(props);
    //this.jvm_store = props.jvm_store;
    this.state = {};
    this._onClickWatchFilterButton = this._onClickWatchFilterButton.bind(this);
    this._onClickVisualizeButton = this._onClickVisualizeButton.bind(this);
    this._onClickBuildButton = this._onClickBuildButton.bind(this);
    //this._onChange = this._onChange.bind(this);

  }
  
  _onClickBuildButton(){
    console.log(this.props.jvm_data);
    this.props.jvm_data.buildSeqDiagram();
  }
  _onClickVisualizeButton(){
    console.log(&quot;click vis&quot;);
    AppAction.setView(ViewType.SIMULATION_VIEW);
    console.log(&quot;sim&quot;, SimulationAction);
    SimulationAction.startSimulation(this.props.jvm_data);
  }
  _onClickWatchFilterButton() {
    this.setState({show_watch_filter: !this.state.show_watch_filter});
  }
  
  render(){
    return (
      &lt;li&gt;
        {this.props.jvm_data._id}
        &lt;Badge&gt;{this.props.jvm_data.value.count}&lt;/Badge&gt;
        &lt;div className=&quot;pull-right&quot;&gt;
          &lt;Button bsStyle=&quot;warning&quot; bsSize=&apos;xsmall&apos;  onClick={this._onClickWatchFilterButton}&gt;Watch Filter&lt;/Button&gt;
          &lt;Button bsStyle=&quot;primary&quot; bsSize=&apos;xsmall&apos;  onClick={this._onClickBuildButton}&gt;Build&lt;/Button&gt;
          &lt;Button bsStyle=&quot;primary&quot; bsSize=&apos;xsmall&apos;  onClick={this._onClickVisualizeButton}&gt;Simulation&lt;/Button&gt;
        &lt;/div&gt;
        &lt;Collapse in={this.state.show_watch_filter}&gt;
          &lt;Well&gt;
            &lt;JvmMethodsFilter jvm_data={this.props.jvm_data}/&gt;
          &lt;/Well&gt;
        &lt;/Collapse&gt;
      &lt;/li&gt;
    );
  }
}

class JvmListBox extends React.Component{
  constructor(props){
    super(props);
    this.state = JvmListStore.getData();
    this._onChange = this._onChange.bind(this);
  }
  
  componentDidMount() {
    JvmListStore.addUpdateEventListener(this._onChange);
  }

  componentWillUnmount() {
    JvmListStore.removeUpdateEventListener(this._onChange);
  }

  _onChange() {
    this.setState(JvmListStore.getData());
  }
  
 
  render(){
    console.log(this.state);
    var item_list;
    if(this.state.status !== &quot;ready&quot;)
      item_list = &lt;p&gt;Loading&lt;/p&gt;
    else{
      var items = this.state.jvm_list.map((data)=&gt;
         &lt;JvmEntry key={data._id} jvm_data={data}/&gt;
         
         );
         
      item_list = &lt;ul className=&quot;todo-list ui-sortable&quot;&gt;{items}&lt;/ul&gt;;
      
      console.log(&quot;item_list is rendering&quot;);
    }
    return (
      &lt;ContentBox title=&quot;Jvm Processes List&quot;&gt;
        {item_list}        
      &lt;/ContentBox&gt;
    )
  }
}




class JvmsView extends React.Component{
  constructor(props){
    super(props);
  }
  
 
  render(){
    return (
      &lt;div&gt;
        {/*header*/}
        &lt;section className=&quot;content-header&quot;&gt;
          &lt;h1&gt;
            JVM Processes 
            &lt;small&gt;&lt;/small&gt;
          &lt;/h1&gt;
          &lt;ol className=&quot;breadcrumb&quot;&gt;
            &lt;li&gt;&lt;i className=&quot;fa fa-dashboard&quot;&gt;&lt;/i&gt; Home&lt;/li&gt;
            &lt;li className=&quot;active&quot;&gt;JVM Processes&lt;/li&gt;
          &lt;/ol&gt;
        &lt;/section&gt;
        {/*content*/}
        &lt;div className=&quot;content body&quot;&gt;
          &lt;div className=&quot;row&quot; &gt;
            &lt;JvmListBox /&gt;           
          &lt;/div&gt;
          
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }

}

export default JvmsView;
</code></pre>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.2.4)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
